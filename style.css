/* ================================
   EverythingPellets – Market (v3)
   Polished, premium UI — drop-in
   ================================ */

/* ---------- Theme ---------- */
:root{
  --ink:#0f2a3a;
  --ink-2:#214a63;
  --muted:#607584;
  --brand:#2ea5a8;
  --brand-2:#1f8f93;
  --accent:#d4af37;
  --bg:#f7fafb;
  --card:#ffffffcc;            /* glassy */
  --line:#e6edf2;
  --shadow:0 10px 25px rgba(18,42,66,.08), 0 2px 6px rgba(18,42,66,.06);
  --radius:16px;
}

@media (prefers-color-scheme: dark){
  :root{
    --ink:#e7f2f7;
    --ink-2:#cbe2ee;
    --muted:#9fb4c1;
    --brand:#4ad3d5;
    --brand-2:#36babc;
    --accent:#f2d46b;
    --bg:#08151c;
    --card:#0e1c25cc;
    --line:#173647;
    --shadow:0 10px 25px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.25);
  }
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{
  margin:0; padding:0;
  font-family:'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:radial-gradient(1200px 600px at 10% -10%, #e9f6f9 0%, transparent 40%),
             radial-gradient(900px 500px at 100% 0%, #f2fbfb 0%, transparent 45%),
             var(--bg);
  color:var(--ink);
}
img{max-width:100%; height:auto; display:block}
a{color:var(--brand-2); text-decoration:none}
a:hover{color:var(--brand);}

main{max-width:1160px; margin:0 auto; padding:2rem clamp(16px,4vw,28px) 3rem; overflow-x:hidden}

/* ---------- Header ---------- */
header.sticky-header{
  position:sticky; top:0; z-index:30;
  background:linear-gradient(90deg, #112a3b, #1e4e67 45%, #2ea5a8);
  color:#fff; text-align:center;
  padding:1.6rem 1rem 1.1rem;
  box-shadow:var(--shadow);
  border-bottom:1px solid rgba(255,255,255,.12);
  backdrop-filter:saturate(140%) blur(6px);
}
.market-logo{width:128px; max-width:80%; margin:0 auto .5rem; filter:drop-shadow(0 6px 18px rgba(0,0,0,.25))}
header h1{margin:.15rem 0 0; font-size:clamp(1.4rem,2.6vw,2rem); letter-spacing:.2px; font-weight:800}
header p{margin:.35rem 0 0; opacity:.95}

/* ---------- Nav ---------- */
nav.sticky-nav{
  position:sticky; top:84px; z-index:29;
  display:flex; gap:1.4rem; justify-content:center; align-items:center;
  background:linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,.45));
  border-bottom:1px solid var(--line);
  padding:.7rem clamp(10px,3vw,18px);
  backdrop-filter:saturate(150%) blur(8px);
}
nav a{
  color:var(--ink); font-weight:700; padding:.35rem .1rem; position:relative;
}
nav a::after{
  content:""; position:absolute; left:0; bottom:-6px; height:2px; width:0;
  background:linear-gradient(90deg, var(--brand-2), var(--brand));
  transition:width .22s ease;
}
nav a:hover::after{width:100%}

/* ---------- Sections & cards ---------- */
.section{margin:1.2rem 0 2rem}
.graph-box, .card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:clamp(14px,2.4vw,18px);
  backdrop-filter:blur(6px);
  animation:fadeIn .35s ease both;
}
.section .section-title{
  margin:0 0 .6rem; font-size:clamp(1.05rem,1.6vw,1.2rem); font-weight:800; letter-spacing:.2px;
}

/* ---------- Forms / Dropdowns ---------- */
label{font-weight:700; color:var(--ink); display:block; margin:0 0 .35rem}
.styled-dropdown, select, input[type="text"], input[type="number"]{
  font:inherit; color:var(--ink); background:#fff;
  border:1px solid var(--line);
  border-radius:12px; padding:.6rem .9rem;
  min-width:200px; max-width:360px;
  outline:none; appearance:none;
  box-shadow:0 1px 0 rgba(0,0,0,.02);
  transition:border-color .15s ease, box-shadow .15s ease, transform .05s ease;
  background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%230f2a3a' stroke-width='2' fill='none'/%3E%3C/svg%3E");
  background-repeat:no-repeat; background-position:right .8rem center; background-size:12px;
}
select:focus, .styled-dropdown:focus, input:focus{
  border-color:var(--brand); box-shadow:0 0 0 4px rgba(46,165,168,.18);
}

/* ---------- Tables ---------- */
table{
  width:100%; border-collapse:separate; border-spacing:0;
  overflow:hidden; background:var(--card); border:1px solid var(--line);
  border-radius:14px; box-shadow:var(--shadow);
}
thead th{
  text-align:left; font-weight:800; padding:.9rem 1rem; font-size:.95rem;
  color:var(--ink); background:
    linear-gradient(180deg, #eef7f8, #e6f3f4);
  border-bottom:1px solid var(--line);
}
tbody td{padding:.8rem 1rem; border-bottom:1px solid var(--line)}
tbody tr:hover{background:rgba(46,165,168,.06)}
tbody tr:last-child td{border-bottom:0}
td strong{font-weight:800; color:var(--ink)}
/* compact on small screens */
@media (max-width: 560px){
  thead{display:none}
  table, tbody, tr, td{display:block; width:100%}
  tr{border-bottom:1px solid var(--line); padding:.65rem .9rem}
  td{border:none; padding:.3rem 0}
  td:first-child{font-weight:800; margin-top:.15rem}
}

/* ---------- Sparklines (inline bars) ---------- */
.sparkline{display:flex; align-items:flex-end; gap:4px; height:34px; overflow:hidden}
.spark{width:6px; border-radius:4px; background:linear-gradient(180deg, #3db7bc, #2ea5a8); max-height:30px}
.spark.briq{background:linear-gradient(180deg, #9b6a3a, #7b522a)}

/* ---------- Charts ---------- */
canvas{
  display:block; width:100% !important;
  height:320px !important;
  background:#fff; border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,.07);
}
.timestamp{margin:.5rem 0 0; color:var(--muted); font-size:.9rem}

/* ---------- Footer ---------- */
.footer{
  margin-top:2.4rem;
  background:linear-gradient(90deg, #112a3b, #1e4e67 45%, #2ea5a8);
  color:#eaf6f6; text-align:center; padding:1.25rem;
  border-top:1px solid rgba(255,255,255,.12);
}

/* ---------- Micro-interactions ---------- */
.card:hover, .graph-box:hover, table:hover{transform:translateY(-2px)}
select:hover, input:hover{transform:translateY(-1px)}
@keyframes fadeIn{from{opacity:.0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}

/* ---------- Mobile tweaks ---------- */
@media (max-width: 900px){
  main{padding:1.25rem clamp(14px,4vw,22px) 2rem}
}
@media (max-width: 768px){
  .styled-dropdown, select, input{min-width:100%; max-width:100%}
  canvas{height:240px !important}
  .sparkline{height:28px}
}